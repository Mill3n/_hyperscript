(function(){function s(e,t){for(var r in t){if(t.hasOwnProperty(r)){e[r]=t[r]}}return e}_hyperscript.addCommand("settle",function(e,s,t){if(t.matchToken("settle")){if(!e.commandBoundary(t.currentToken())){var r=e.requireElement("expression",t)}else{var r=e.requireElement("implicitMeTarget",t)}var o={type:"settleCmd",args:[r],op:function(e,t){var r=null;var n=false;var i=false;var a=new Promise(function(e){r=e});t.addEventListener("transitionstart",function(){i=true},{once:true});setTimeout(function(){if(!i&&!n){r(s.findNext(o,e))}},500);t.addEventListener("transitionend",function(){if(!n){r(s.findNext(o,e))}},{once:true});return a},execute:function(e){return s.unifiedExec(this,e)}};return o}});_hyperscript.addCommand("add",function(e,n,t){if(t.matchToken("add")){var r=e.parseElement("classRef",t);var i=null;var a=null;if(r==null){i=e.parseElement("attributeRef",t);if(i==null){a=e.parseElement("objectLiteral",t);if(a==null){e.raiseParseError(t,"Expected either a class reference or attribute expression")}}}else{var s=[r];while(r=e.parseElement("classRef",t)){s.push(r)}}if(t.matchToken("to")){var o=e.requireElement("targetExpression",t)}else{var o=e.parseElement("implicitMeTarget",t)}if(s){var l={classRefs:s,to:o,args:[o],op:function(e,r){n.forEach(s,function(t){n.forEach(r,function(e){e.classList.add(t.className())})});return n.findNext(this,e)}}}else if(i){var l={type:"addCmd",attributeRef:i,to:o,args:[o],op:function(e,t,r){n.forEach(t,function(e){e.setAttribute(i.name,i.value)});return n.findNext(l,e)},execute:function(e){return n.unifiedExec(this,e)}}}else{var l={type:"addCmd",cssDeclaration:a,to:o,args:[o,a],op:function(e,t,r){n.forEach(t,function(e){for(var t in r){if(r.hasOwnProperty(t)){e.style.setProperty(t,r[t])}}});return n.findNext(l,e)},execute:function(e){return n.unifiedExec(this,e)}}}return l}});_hyperscript.addCommand("remove",function(e,n,t){if(t.matchToken("remove")){var r=e.parseElement("classRef",t);var i=null;var a=null;if(r==null){i=e.parseElement("attributeRef",t);if(i==null){a=e.parseElement("expression",t);if(a==null){e.raiseParseError(t,"Expected either a class reference, attribute expression or value expression")}}}else{var s=[r];while(r=e.parseElement("classRef",t)){s.push(r)}}if(t.matchToken("from")){var o=e.requireElement("targetExpression",t)}else{var o=e.requireElement("implicitMeTarget",t)}if(a){var l={elementExpr:a,from:o,args:[a],op:function(e,t){n.forEach(t,function(e){e.parentElement.removeChild(e)});return n.findNext(this,e)}}}else{var l={classRefs:s,attributeRef:i,elementExpr:a,from:o,args:[o],op:function(e,r){if(this.classRefs){n.forEach(s,function(t){n.forEach(r,function(e){e.classList.remove(t.className())})})}else{n.forEach(r,function(e){e.removeAttribute(i.name)})}return n.findNext(this,e)}}}return l}});_hyperscript.addCommand("toggle",function(e,s,t){if(t.matchToken("toggle")){if(t.matchToken("between")){var r=true;var n=e.parseElement("classRef",t);t.requireToken("and");var i=e.requireElement("classRef",t)}else{var n=e.parseElement("classRef",t);var a=null;if(n==null){a=e.parseElement("attributeRef",t);if(a==null){e.raiseParseError(t,"Expected either a class reference or attribute expression")}}else{var o=[n];while(n=e.parseElement("classRef",t)){o.push(n)}}}if(t.matchToken("on")){var l=e.requireElement("targetExpression",t)}else{var l=e.requireElement("implicitMeTarget",t)}if(t.matchToken("for")){var f=e.requireElement("timeExpression",t)}else if(t.matchToken("until")){var u=e.requireElement("dotOrColonPath",t,"Expected event name");if(t.matchToken("from")){var c=e.requireElement("expression",t)}}var m={classRef:n,classRef2:i,classRefs:o,attributeRef:a,on:l,time:f,evt:u,from:c,toggle:function(e){if(r){s.forEach(e,function(e){if(e.classList.contains(n.className())){e.classList.remove(n.className());e.classList.add(i.className())}else{e.classList.add(n.className());e.classList.remove(i.className())}})}else if(this.classRefs){s.forEach(this.classRefs,function(t){s.forEach(e,function(e){e.classList.toggle(t.className())})})}else{s.forEach(e,function(e){if(e.hasAttribute(a.name)){e.removeAttribute(a.name)}else{e.setAttribute(a.name,a.value)}})}},args:[l,f,u,c],op:function(r,n,t,i,a){if(t){return new Promise(function(e){m.toggle(n);setTimeout(function(){m.toggle(n);e(s.findNext(m,r))},t)})}else if(i){return new Promise(function(e){var t=a||r.me;t.addEventListener(i,function(){m.toggle(n);e(s.findNext(m,r))},{once:true});m.toggle(n)})}else{this.toggle(n);return s.findNext(m,r)}}};return m}});var o={display:function(e,t,r){if(r){t.style.display=r}else if(e==="hide"){t.style.display="none"}else{t.style.display="block"}},visibility:function(e,t,r){if(r){t.style.visibility=r}else if(e==="hide"){t.style.visibility="hidden"}else{t.style.visibility="visible"}},opacity:function(e,t,r){if(r){t.style.opacity=r}else if(e==="hide"){t.style.opacity="0"}else{t.style.opacity="1"}}};var l=function(e,t,r){var n;var i=r.currentToken();if(i.value==="with"||e.commandBoundary(i)){n=e.parseElement("implicitMeTarget",r)}else{n=e.parseElement("targetExpression",r)}return n};var f=function(e,t,r){var n=_hyperscript.config.defaultHideShowStrategy;var i=o;if(_hyperscript.config.hideShowStrategies){i=s(i,_hyperscript.config.hideShowStrategies)}r=r||n||"display";var a=i[r];if(a==null){e.raiseParseError(t,"Unknown show/hide strategy : "+r)}return a};_hyperscript.addCommand("hide",function(e,r,t){if(t.matchToken("hide")){var n=l(e,r,t);var i=null;if(t.matchToken("with")){i=t.requireTokenType("IDENTIFIER").value}var a=f(e,t,i);return{target:n,args:[n],op:function(e,t){r.forEach(t,function(e){a("hide",e)});return r.findNext(this,e)}}}});_hyperscript.addCommand("show",function(e,r,t){if(t.matchToken("show")){var n=l(e,r,t);var i=null;if(t.matchToken("with")){i=t.requireTokenType("IDENTIFIER").value}var a=null;if(t.matchOpToken(":")){var s=t.consumeUntilWhitespace();t.matchTokenType("WHITESPACE");a=s.map(function(e){return e.value}).join("")}var o=f(e,t,i);return{target:n,args:[n],op:function(e,t){r.forEach(t,function(e){o("show",e,a)});return r.findNext(this,e)}}}});_hyperscript.addCommand("trigger",function(e,n,t){if(t.matchToken("trigger")){var r=e.requireElement("dotOrColonPath",t);var i=e.parseElement("namedArgumentList",t);var a={eventName:r,details:i,args:[r,i],op:function(e,t,r){n.triggerEvent(e.me,t,r?r:{});return n.findNext(a,e)}};return a}});_hyperscript.addCommand("take",function(e,i,t){if(t.matchToken("take")){var r=e.parseElement("classRef",t);if(t.matchToken("from")){var n=e.requireElement("targetExpression",t)}else{var n=r}if(t.matchToken("for")){var a=e.requireElement("targetExpression",t)}else{var a=e.requireElement("implicitMeTarget",t)}var s={classRef:r,from:n,forElt:a,args:[n,a],op:function(e,t,r){var n=this.classRef.css.substr(1);i.forEach(t,function(e){e.classList.remove(n)});i.forEach(r,function(e){e.classList.add(n)});return i.findNext(this,e)}};return s}});function m(e,t,r){if(t){var n=e[t]}else{var n=e}if(n instanceof Element||n instanceof HTMLDocument){n.innerHTML=r}else{if(t){e[t]=r}else{throw"Don't know how to put a value into "+typeof e}}}_hyperscript.addCommand("put",function(e,n,t){if(t.matchToken("put")){var r=e.requireElement("expression",t);var i=t.matchAnyToken("into","before","after");if(i==null&&t.matchToken("at")){i=t.matchAnyToken("start","end");t.requireToken("of")}if(i==null){e.raiseParseError(t,"Expected one of 'into', 'before', 'at start of', 'at end of', 'after'")}var a=e.requireElement("targetExpression",t);var s=i.value;var o=false;var l=null;var f=null;if(a.type==="propertyAccess"&&s==="into"){f=a.prop.value;l=a.root}else if(a.type==="symbol"&&s==="into"){o=true;f=a.name}else if(a.type==="attributeRef"&&s==="into"){var u=true;f=a.name;l=e.requireElement("implicitMeTarget",t)}else if(a.type==="attributeRefAccess"&&s==="into"){var u=true;f=a.attribute.name;l=a.root}else{l=a}var c={target:a,operation:s,symbolWrite:o,value:r,args:[l,r],op:function(e,t,r){if(o){m(e,f,r)}else{if(s==="into"){if(u){n.forEach(t,function(e){e.setAttribute(f,r)})}else{n.forEach(t,function(e){m(e,f,r)})}}else if(s==="before"){n.forEach(t,function(e){e.insertAdjacentHTML("beforebegin",r)})}else if(s==="start"){n.forEach(t,function(e){e.insertAdjacentHTML("afterbegin",r)})}else if(s==="end"){n.forEach(t,function(e){e.insertAdjacentHTML("beforeend",r)})}else if(s==="after"){n.forEach(t,function(e){e.insertAdjacentHTML("afterend",r)})}}return n.findNext(this,e)}};return c}});function u(e,t,r){if(r.matchToken("the")||r.matchToken("element")||r.matchToken("elements")||r.currentToken().type==="CLASS_REF"||r.currentToken().type==="ID_REF"||r.currentToken().op&&r.currentToken().value==="<"){e.possessivesDisabled=true;try{var n=e.parseElement("expression",r)}finally{delete e.possessivesDisabled}if(r.matchOpToken("'")){r.requireToken("s")}}else if(r.currentToken().type==="IDENTIFIER"&&r.currentToken().value==="its"){var i=r.matchToken("its");var n={type:"pseudopossessiveIts",token:i,name:i.value,evaluate:function(e){return t.resolveSymbol("it",e)}}}else{r.matchToken("my")||r.matchToken("me");var n=e.parseElement("implicitMeTarget",r)}return n}_hyperscript.addCommand("transition",function(e,E,t){if(t.matchToken("transition")){var r=u(e,E,t);var n=[];var i=[];var a=[];var s=t.currentToken();while(!e.commandBoundary(s)&&s.value!=="over"&&s.value!=="using"){n.push(e.requireElement("stringLike",t));if(t.matchToken("from")){i.push(e.requireElement("stringLike",t))}else{i.push(null)}t.requireToken("to");a.push(e.requireElement("stringLike",t));s=t.currentToken()}if(t.matchToken("over")){var o=e.requireElement("timeExpression",t)}else if(t.matchToken("using")){var l=e.requireElement("expression",t)}var f={to:a,args:[r,n,i,a,l,o],op:function(e,t,m,v,p,h,d){var r=[];E.forEach(t,function(c){var e=new Promise(function(a,e){var s=c.style.transition;if(d){c.style.transition="all "+d+"ms ease-in"}else if(h){c.style.transition=h}else{c.style.transition=_hyperscript.config.defaultTransition}var o=E.getInternalData(c);var t=getComputedStyle(c);var r={};for(var n=0;n<t.length;n++){var i=t[n];var l=t[i];r[i]=l}if(!o.initalStyles){o.initalStyles=r}for(var n=0;n<m.length;n++){var f=m[n];var u=v[n];if(u=="computed"||u==null){c.style[f]=r[f]}else{c.style[f]=u}}setTimeout(function(){var e=[];for(var t=0;t<m.length;t++){var r=m[t];var n=p[t];if(n=="initial"){var i=o.initalStyles[r];c.style[r]=i}else{c.style[r]=n}}c.addEventListener("transitionend",function(){c.style.transition=s;a()},{once:true})},5)});r.push(e)});return Promise.all(r).then(function(){return E.findNext(f,e)})}};return f}});_hyperscript.addCommand("measure",function(e,i,t){if(!t.matchToken("measure"))return;var r=u(e,i,t);var a=[];if(!e.commandBoundary(t.currentToken()))do{a.push(t.matchTokenType("IDENTIFIER").value)}while(t.matchOpToken(","));return{properties:a,args:[r],op:function(t,e){if(0 in e)e=e[0];var r=e.getBoundingClientRect();var n={top:e.scrollTop,left:e.scrollLeft,topMax:e.scrollTopMax,leftMax:e.scrollLeftMax,height:e.scrollHeight,width:e.scrollWidth};t.result={x:r.x,y:r.y,left:r.left,top:r.top,right:r.right,bottom:r.bottom,width:r.width,height:r.height,bounds:r,scrollLeft:n.left,scrollTop:n.top,scrollLeftMax:n.leftMax,scrollTopMax:n.topMax,scrollWidth:n.width,scrollHeight:n.height,scroll:n};i.forEach(a,function(e){if(e in t.result)t[e]=t.result[e];else throw"No such measurement as "+e});return i.findNext(this,t)}}});_hyperscript.addLeafExpression("closestExpr",function(e,t,r){if(r.matchToken("closest")){if(r.matchToken("parent")){var n=true}var i=e.parseElement("targetExpression",r);if(i.css==null){e.raiseParseError(r,"Expected a CSS expression")}if(r.matchToken("to")){var a=e.parseElement("targetExpression",r)}else{var a=e.parseElement("implicitMeTarget",r)}return{type:"closestExpr",parentSearch:n,expr:i,to:a,args:[a],op:function(e,t){if(t==null){return null}else{if(n){return t.parentElement?t.parentElement.closest(i.css):null}else{return t.closest(i.css)}}},evaluate:function(e){return t.unifiedEval(this,e)}}}});_hyperscript.addCommand("go",function(e,r,t){if(t.matchToken("go")){if(t.matchToken("back")){var n=true}else{t.matchToken("to");if(t.matchToken("url")){var i=e.requireElement("stringLike",t);var a=true;if(t.matchToken("in")){t.requireToken("new");t.requireToken("window");var s=true}}else{t.matchToken("the");var o=t.matchAnyToken("top","bottom","middle");var l=t.matchAnyToken("left","center","right");if(o||l){t.requireToken("of")}var i=e.requireElement("expression",t);var f=t.matchAnyToken("smoothly","instantly");var u={};if(o){if(o.value==="top"){u.block="start"}else if(o.value==="bottom"){u.block="end"}else if(o.value==="middle"){u.block="center"}}if(l){if(l.value==="left"){u.inline="start"}else if(l.value==="center"){u.inline="center"}else if(l.value==="right"){u.inline="end"}}if(f){if(f.value==="smoothly"){u.behavior="smooth"}else if(f.value==="instantly"){u.behavior="instant"}}}}var c={target:i,args:[i],op:function(e,t){if(n){window.history.back()}else if(a){if(t){if(t.indexOf("#")===0&&!s){window.location.href=t}else{window.open(t,s?"_blank":null)}}}else{r.forEach(t,function(e){e.scrollIntoView(u)})}return r.findNext(c)}};return c}});_hyperscript.config.conversions["Values"]=function(e){var n={};var i=_hyperscript.internals.runtime.forEach;i(e,function(e){var t=s(e);if(t!==undefined){n[t.name]=t.value;return}if(e.querySelectorAll!=undefined){var r=e.querySelectorAll("input,select,textarea");i(r,a)}});return n;function a(e){var t=s(e);if(t==undefined){return}if(n[t.name]==undefined){n[t.name]=t.value;return}if(Array.isArray(n[t.name])&&Array.isArray(t.value)){n[t.name]=[].concat(n[t.name],t.value);return}}function s(e){try{var t={name:e.name,value:e.value};if(t.name==undefined||t.value==undefined){return undefined}if(e.type=="radio"&&e.checked==false){return undefined}if(e.type=="checkbox"){if(e.checked==false){t.value=undefined}else if(typeof t.value==="string"){t.value=[t.value]}}if(e.type=="select-multiple"){var r=e.querySelectorAll("option[selected]");t.value=[];for(var n=0;n<r.length;n++){t.value.push(r[n].value)}}return t}catch(e){return undefined}}};_hyperscript.config.conversions["HTML"]=function(e){var i=function(e){if(e instanceof Array){return e.map(function(e){return i(e)}).join("")}if(e instanceof HTMLElement){return e.outerHTML}if(e instanceof NodeList){var t="";for(var r=0;r<e.length;r++){var n=e[r];if(n instanceof HTMLElement){t+=n.outerHTML}}return t}if(e.toString){return e.toString()}return""};return i(e)}})();